(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{19:function(e,t,n){e.exports=n(42)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),u=n(6),s=n(18),l=n(1),i=n(3),m=n(16),p=n(2),E=n.n(p),f=n(4),d="https://jsonplaceholder.typicode.com/";function y(){return _.apply(this,arguments)}function _(){return(_=Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(d,"users")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return b.apply(this,arguments)}function b(){return(b=Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(d,"posts")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(d,"comments")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O={posts:[],isError:!1,isLoading:!1,query:"",filterQuery:""},D=function(e){return e.posts},P=function(e){return e.isError},j=function(e){return e.isLoading},g=function(e){return e.query},L=function(e){return e.filterQuery},Y=function(e){return{type:"TYPE_SET_ERROR",value:e}},S=function(e){return{type:"TYPE_SET_LOADING",value:e}},I=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;if(void 0===e)return{posts:[],isError:!1,isLoading:!1,query:"",filterQuery:""};switch(t.type){case"TYPE_DELETE_COMMENT":return Object(l.a)({},e,{posts:e.posts.map((function(e){return e.id!==t.postId?Object(l.a)({},e):Object(l.a)({},e,{comments:e.comments.filter((function(e){return e.id!==t.commentId}))})}))});case"TYPE_DELETE_POST":return Object(l.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.value}))});case"TYPE_SET_POSTS":return Object(l.a)({},e,{posts:t.value});case"TYPE_SET_ERROR":return Object(l.a)({},e,{isError:t.value});case"TYPE_SET_LOADING":return Object(l.a)({},e,{isLoading:t.value});case"TYPE_SET_QUERY":return Object(l.a)({},e,{query:t.value});case"TYPE_SET_FILTERED_QUERY":return Object(l.a)({},e,{filterQuery:t.value});default:return e}}),O,Object(i.a)(m.a)),N=n(17),Q=n.n(N),R=(n(38),n(39),n(40),function(e){var t=e.user,n=t.name,r=t.email,c=t.address,o=c.city,u=c.street,s=c.zipcode;return a.a.createElement("div",{className:"user"},a.a.createElement("p",null,"Autor contacts:"),a.a.createElement("p",null,"name: ".concat(n,", email: ").concat(r)),a.a.createElement("p",null,"address: ".concat(s,", ").concat(u,", ").concat(o)))}),k=(n(41),function(e){var t=e.comment,n=e.postID,r=e.onDelete,c=t.name,o=t.email,u=t.body,s=t.id;return a.a.createElement("li",{className:"comment"},a.a.createElement("p",{className:"comment__autor"},a.a.createElement("span",null,"autor: ".concat(c," ")),a.a.createElement("span",null,"e-mail: ".concat(o))),a.a.createElement("p",{className:"comment__text"},u),a.a.createElement("button",{type:"button",onClick:function(){r(n,s)}},"X"))}),x=function(e){var t=e.comments,n=e.postID,r=e.onDelete;return a.a.createElement("ul",{className:"commentList"},t.map((function(e){return a.a.createElement(k,{key:e.id,comment:e,postID:n,onDelete:r})})))},C=function(e){var t=e.post,n=e.onDelete,r=t.title,c=t.body,o=t.user,u=t.comments,s=t.id;return a.a.createElement("li",{className:"post"},a.a.createElement("h3",{className:"post__title"},r),a.a.createElement("p",{className:"post__text"},c),a.a.createElement(R,{user:o}),a.a.createElement(x,{comments:u,onDelete:n,postID:s}))},w=function(e){var t=e.postList,n=e.onDeletePost,c=e.onDeleteComment;return a.a.createElement("ul",{className:"postList"},t.map((function(e){return a.a.createElement(r.Fragment,{key:e.id},a.a.createElement(C,{post:e,onDelete:c}),a.a.createElement("button",{type:"button",onClick:function(){n(e.id)}},"delete Post"))})))},q={setQuery:function(e){return{type:"TYPE_SET_QUERY",value:e}},setFilterQuery:function(e){return{type:"TYPE_SET_FILTERED_QUERY",value:e}},deletePost:function(e){return{type:"TYPE_DELETE_POST",value:e}},deleteComment:function(e,t){return{type:"TYPE_DELETE_COMMENT",postId:e,commentId:t}},loadAllData:function(){return function(e){return e(Y(!1)),e(S(!0)),Promise.all([y(),T(),v()]).then((function(t){var n=Object(s.a)(t,3),r=n[0],a=n[1],c=n[2];e(S(!1));var o=a.map((function(e){return Object(l.a)({},e,{user:r.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})}));e({type:"TYPE_SET_POSTS",value:o})})).catch((function(){e(Y(!0)),e(S(!1))}))}}},F=Object(u.b)((function(e){return{isLoading:j(e),isError:P(e),query:g(e),posts:D(e),filterQuery:L(e)}}),q)((function(e){var t=e.isLoading,n=e.isError,c=e.query,o=e.posts,u=e.filterQuery,s=e.setQuery,l=e.setFilterQuery,i=e.deletePost,m=e.deleteComment,p=e.loadAllData;var E=Object(r.useMemo)((function(){return function(e,t){var n=new RegExp(t.trim(),"gi");return e.filter((function(e){return n.test(e.title)||n.test(e.body)}))}(o,u)}),[u,o]),f=Object(r.useCallback)(Q()(l,1e3),[]);return o.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Dynamic list of posts"),a.a.createElement("input",{className:"search-field",value:c,type:"text",placeholder:"Enter search query",onChange:function(e){s(e.target.value),f(e.target.value)}}),a.a.createElement("div",{className:"App"},a.a.createElement(w,{postList:E,onDeletePost:i,onDeleteComment:m}))):a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Redux list of posts"),a.a.createElement("button",{type:"button",onClick:p,disabled:t},"Load posts"),a.a.createElement("p",null,t?"Loading":""),a.a.createElement("p",null,n?"Error occured. Try again later":""))}));o.a.render(a.a.createElement(u.a,{store:I},a.a.createElement(F,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.3be35d24.chunk.js.map